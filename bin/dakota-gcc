#!/bin/bash
set -o nounset -o pipefail -o errexit

# -c or --compile
# -shared or --shared

args=
num_dk_files=0

for arg in $@; do
    dk_file="\.dk$"
    if [[ $arg =~ $dk_file ]]; then
        (( num_dk_files++ )) || true
        # create dst/nrt/*.cc and add to arg list here
    fi
    args=" $args $arg"
done

#if (( $num_dk_files > 0 )); then
#    args=" --language c++ $args"
#fi

echo DAKOTA-GCC: $args

gcc $args
