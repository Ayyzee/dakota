// -*- mode: c++ -*-

// slots <array-type>    ;        =>  typealias   slots-t = <array-type>    ;
// slots <func-ptr-type> ;        =>  typealias   slots-t = <func-ptr-type> ;

// slots         <>      ;        =>  typealias   slots-t =         <>      ;
// slots struct  <>      ;        =>  typealias   slots-t = struct  <>      ;
// slots union   <>      ;        =>  typealias   slots-t = union   <>      ;
// slots enum    <>      ;        =>  typealias   slots-t = enum    <>      ;

// slots                 ;        =>  struct      slots-t                   ;
// slots                 { ... }  =>  struct      slots-t                   { ... }

// slots struct          ;        =>  struct      slots-t                   ;
// slots struct          { ... }  =>  struct      slots-t                   { ... }

// slots union           ;        =>  union       slots-t                   ;
// slots union           { ... }  =>  union       slots-t                   { ... }

// slots enum            ;        =>  enum struct slots-t                   ;
// slots enum            { ... }  =>  enum struct slots-t                   { ... }

digraph "slots-fsm" {
  graph [ rankdir = LR, label = "\G", fontcolor = red ];
  //graph [ page = "8.5,11" ];
  graph [ size = "7.5,10" ];
  edge [ fontsize = 16, fontname = "helvetica-bold", color = grey ];
  node [ shape = circle, fontsize = 12, width = 0.3, fixedsize = true ];
  node [ label = "", width = 0.1 ];

  000 -> 010 [ label = "slots" ];

  010 -> 015 [ label = ";" ];
  010 -> 141 [ label = "<array-type>", fontcolor = blue ];
  010 -> 142 [ label = "<func-ptr-type>", fontcolor = blue ];
  010 -> 140 [ label = "<fq-type>", fontcolor = blue ];
  140 -> 145 [ label = ";" ];
  141 -> 146 [ label = ";" ];
  142 -> 147 [ label = ";" ];

  010 -> 100 [ label = "struct\nunion" ];
  010 -> 110 [ label = "{" ];
  100 -> 110 [ label = "{" ];
  100 -> 105 [ label = ";" ];
  100 -> 150 [ label = "<fq-type>", fontcolor = blue ];
  150 -> 160 [ label = ";" ];
  110 -> 120 [ label = "<struct-union-body-in>", fontcolor = blue ];
  120 -> 130 [ label = "}" ];

  010 -> 030 [ label = "enum" ];
  030 -> 170 [ label = "<fq-type>", fontcolor = blue ];
  170 -> 180 [ label = ";" ];
  030 -> 035 [ label = ";" ];
  030 -> 060 [ label = "{" ];
  060 -> 070 [ label = "<enum-body-in>", fontcolor = blue ];
  070 -> 080 [ label = "}" ];
}
