// -*- mode: c++ -*-

// slots                  ;
// slots               <> ;
// slots                  { ... }

// slots struct           ;
// slots struct        <> ;
// slots struct           { ... }

// slots union            ;
// slots union         <> ;
// slots union            { ... }

// slots enum             ;
// slots enum          <> ;
// slots enum             { ... }
// slots enum        : <> ;
// slots enum        : <> { ... }

// slots enum struct      ;
// slots enum struct   <> ;
// slots enum struct      { ... }
// slots enum struct : <> ;
// slots enum struct : <> { ... }

// slots <array-type>     ;
// slots <func-ptr-type>  ;

digraph "slots-fsm" {
  graph [ rankdir = LR, label = "\G", fontcolor = red ];
  edge [ fontname = "courier" ];
  node [ shape = circle, fontsize = 12, width = 0.3, fixedsize = true ];
  node [ label = "", width = 0.1 ];

  000 -> 010 [ label = "slots" ];
  010 -> 020 [ label = "enum" ];
  010 -> 030 [ label = "enum" ];
  010 -> 050 [ label = "enum" ];
  020 -> 030 [ label = "struct" ];
  010 -> 015 [ label = ";" ];
  020 -> 025 [ label = ";" ];
  030 -> 040 [ label = ":" ];
  030 -> 035 [ label = ";" ];
  040 -> 050 [ label = "<fq-int-type>", fontcolor = blue ];
  050 -> 060 [ label = "{" ];
  050 -> 055 [ label = ";" ];
  060 -> 070 [ label = "<enum-body-in>", fontcolor = blue ];
  070 -> 080 [ label = "}" ];

  010 -> 100 [ label = "union" ];
  010 -> 100 [ label = "struct" ];
  010 -> 110 [ label = "{" ];
  100 -> 110 [ label = "{" ];
  100 -> 105 [ label = ";" ];
  110 -> 120 [ label = "<struct-union-body-in>", fontcolor = blue ];
  120 -> 130 [ label = "}" ];

  010 -> 140 [ label = "<fq-type>", fontcolor = blue ];
  010 -> 140 [ label = "<array-type>", fontcolor = blue ];
  010 -> 140 [ label = "<func-ptr-type>", fontcolor = blue ];
  140 -> 145 [ label = ";" ];

//   subgraph {
//     graph [ rank = same ];
//     050;
//     100;
//     140;
//   }
//   subgraph {
//     graph [ rank = same ];
//     015;
//     025;
//     035;
//     055;
//     105;
//     145;
//   }
}
