// -*- mode: C++; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

int-t main()
{
  object-t e1 = make(object:klass);
  object-t e2 = make(object:klass);

  assoc-t v1 = { e1, e2 };

  object-t       o1 = assoc:box(&v1);
  assoc-t* i1 = assoc:unbox(o1);

  printf("%p:{%p, %p} == %p:{%p, %p}\n",
         (void*)&v1, (void*)v1.key, (void*)v1.element,
         (void*)&i1, (void*)i1->key, (void*)i1->element);

  object-t       o2 = assoc:box({e1, e2});
  assoc-t* i2 = assoc:unbox(o2);

  printf("%p:{%p, %p}\n",
         (void*)&i2, (void*)i2->key, (void*)i2->element);

  return 0;
}
