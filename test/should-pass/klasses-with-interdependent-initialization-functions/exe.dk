// -*- mode: C++; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

include <assert.h>;

klass k1
{
  object-t initialize(object-t kls)
  {
    printf("%p\n", (void*)k2:klass);
    assert(NULL != k2:klass);
    return kls;
  }
}

klass k2
{
  object-t initialize(object-t kls)
  {
    printf("%p\n", (void*)k1:klass);
    assert(NULL != k1:klass);
    return kls;
  }
}

int-t main()
{
  object-t k1 = make(k1:klass);
  object-t k2 = make(k2:klass);

  USE(k1);
  USE(k2);

  return 0;
}
