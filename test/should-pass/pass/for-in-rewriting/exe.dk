// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

klass sequence;
klass pair;

int-t main()
{
  object-t sequence = make(vector::klass);
  // ...

  for (object-t element in sequence)
    printf("%p\n", (void*)element);

  // should rewrite to

  for (object-t _iterator_ = dk::forward-iterator(sequence); object-t element = dk::next(_iterator_); )
    printf("%p\n", (void*)element);

//---

  object-t table = make(sorted-table::klass);
  // ...

  for (pair-t* pair in table)
    printf("%p = %p\n", (void*)pair->key, (void*)pair->element);

  // should rewrite to

  for (object-t _iterator_ = dk::forward-iterator(table); pair-t* pair = pair::unbox(dk::next(_iterator_)); )
    printf("%p = %p\n", (void*)pair->key, (void*)pair->element);

  return 0;
}
