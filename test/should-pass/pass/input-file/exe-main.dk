// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

#include <assert.h>

klass input-file;
klass json-object-output-stream;
klass object-output-stream;
klass features; // hackhack
klass type-predicate; // hackhack
klass vector; // hackhack

int-t main() {
//   assert(1 + 1 == argc);
//   char8-t* filename = argv[1];
  char8-t const* filename = "ops.txt";
  object-t ops-stream = make(input-file::klass, #filename : filename);
  object-t ops = $split(ops-stream, nullptr);

  $dump(ops);

  object-t obj-out = make(json-object-output-stream::klass);
  $write(obj-out, ops);

  return 0;
}
