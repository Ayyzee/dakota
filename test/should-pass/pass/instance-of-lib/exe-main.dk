// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

#include <stdio.h>

#define DUMP(val, cmd) printf("%i == %i = " # cmd "\n", val, cmd)

klass k1;
klass k2;
klass k3;

int
main() {
  object-t o1 = make(k1::klass);
  object-t o2 = make(k2::klass);
  object-t o3 = make(k3::klass);

  DUMP(1, $instance?(o1, k1::klass));
  DUMP(1, $instance?(o2, k1::klass));
  DUMP(1, $instance?(o3, k1::klass));

  DUMP(0, $instance?(o1, k2::klass));
  DUMP(1, $instance?(o2, k2::klass));
  DUMP(1, $instance?(o3, k2::klass));

  DUMP(0, $instance?(o1, k3::klass));
  DUMP(0, $instance?(o2, k3::klass));
  DUMP(1, $instance?(o3, k3::klass));

  return 0;
}
