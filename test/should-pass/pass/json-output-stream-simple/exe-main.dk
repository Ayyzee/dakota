// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

klass features; // hackhack
klass json-object-output-stream;
klass string;

int-t main()
{
  object-t o = make(string::klass, #bytes : "hello world");
  object-t stream = make(json-object-output-stream::klass, #indent-level : 1);
  dk::write(stream, o);
  dk::close(stream);
  dk::dump(o);
  fprintf(stderr, "---\n");
  dk::dump(superklass-of(klass-of(o)));
  fprintf(stderr, "---\n");
  dk::dump(klass-of(o));
  return 0;
}
