// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

klass pair;
klass sorted-table;
klass string;

int-t main() {
  int-t value = 0;
  object-t table = make(sorted-table::klass);

  object-t string1-key = make(string::klass, #bytes : "father");
  object-t string1-element = make(string::klass, #bytes : "FATHER");
  $add(table, string1-key, string1-element);

  // object-t string2-key = make(string::klass, #bytes : "mother");
  // object-t string2-element = make(string::klass, #bytes : "MOTHER");
  // $add(table, string2-key, string2-element);

  object-t element = $at(table, string1-key, cast(object-t)nullptr);
  printf("%p == %p\n", cast(void*)string1-element, cast(void*)element);

  object-t pair = $pair-at(table, string1-key, cast(object-t)nullptr);
  printf("%p == %p\n", cast(void*)$first(pair), cast(void*)element);
  return value;
}
