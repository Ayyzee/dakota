// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

klass str64;

static str64-t s1 = "mother";
static str64-t s2 = "father";
static str64-t s3 = "sister";

int-t main()
{
  {
    object-t o1 = str64::box(s1);
    object-t o2 = str64::box(s2);
    object-t o3 = str64::box(s3);

    str64-t* s1p = str64::unbox(o1);
    str64-t* s2p = str64::unbox(o2);
    str64-t* s3p = str64::unbox(o3);

    printf("%s == %s\n", s1, *s1p);
    printf("%s == %s\n", s2, *s2p);
    printf("%s == %s\n", s3, *s3p);
  }
  printf("---\n");
  {
    object-t o1 = str64::box("mother"); // bugbug: not 64 chars in length (memcpy())
    object-t o2 = str64::box("father"); // bugbug: not 64 chars in length (memcpy())
    object-t o3 = str64::box("sister"); // bugbug: not 64 chars in length (memcpy())

    printf("%s == %s\n", "mother", *str64::unbox(o1));
    printf("%s == %s\n", "father", *str64::unbox(o2));
    printf("%s == %s\n", "sister", *str64::unbox(o3));
  }
  return 0;
}
