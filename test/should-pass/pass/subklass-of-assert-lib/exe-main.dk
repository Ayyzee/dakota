// -*- mode: Dakota; c-basic-offset: 2; tab-width: 2; indent-tabs-mode: nil -*-

# include <assert.h>

module test-1;

klass k1;
klass k2;
klass k3;

int-t main() {
  object-t o1 = make(k1::klass);
  object-t o2 = make(k2::klass);
  object-t o3 = make(k3::klass);

  assert(0 == $subklass?(klass-of(o1), k1::klass));
  assert(1 == $subklass?(klass-of(o2), k1::klass));
  assert(1 == $subklass?(klass-of(o3), k1::klass));

  assert(0 == $subklass?(klass-of(o1), k2::klass));
  assert(0 == $subklass?(klass-of(o2), k2::klass));
  assert(1 == $subklass?(klass-of(o3), k2::klass));

  assert(0 == $subklass?(klass-of(o1), k3::klass));
  assert(0 == $subklass?(klass-of(o2), k3::klass));
  assert(0 == $subklass?(klass-of(o3), k3::klass));

  return 0;
}
